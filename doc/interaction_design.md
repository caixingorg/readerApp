# Reader App - 交互设计文档 (Interaction Design Document)

本文档详细描述了 Reader App 各个页面的交互细节、用户手势以及页面间的跳转逻辑。

## 1. 设计原则 (Design Principles)

- **沉浸优先 (Immersion First)**: 阅读界面减少干扰，控制元素默认隐藏。
- **流畅自然 (Fluid & Natural)**: 翻页、转场、面板弹出动画平滑。
- **即时反馈 (Immediate Feedback)**: 每次操作都有视觉或触觉反馈。
- **单手操作友好 (One-Handed Friendly)**: 常用操作布局在拇指可及范围。

---

## 2. 页面交互详情 (Page Interaction Details)

本节按页面拆分，详细说明界面元素、用户交互及跳转逻辑。

### 2.1 启动页 (Launch Screen)

- **界面元素**:
    - App Logo (居中)。
    - Slogan (可选)。
- **交互逻辑**:
    - App 冷启动时展示。
    - 加载初始化数据（数据库连接、配置读取）。
- **页面跳转 (Transitions)**:
    - **跳转到**: 书架页 (Library Screen)。
    - **触发**: 初始化加载完成 (约 1-2秒)。
    - **动效**: 淡出 (Fade Out) -> 书架页淡入 (Fade In)。

---

### 2.2 书架页 (Library Screen / Home)

App 的主页，展示所有导入的书籍。

- **界面元素**:
    - **导航栏**: 标题"书架"、搜索图标、视图切换图标 (网格/列表)、扫描导入(Plus)图标。
    - **列表区域**: 书籍封面网格 或 详细列表。
    - **底部标签栏 (Tab Bar)**: 书架(选中)、统计(待定)、设置。
- **交互逻辑 (Interactions)**:
    - **浏览**: 单指上下滑动列表。
    - **下拉刷新**: 触发文件扫描更新。
    - **长按书籍**: 进入 **编辑模式 (Edit Mode)**。
        - 选中当前书籍，底部弹出操作栏 (删除/移动)。
        - 点击其他书籍进行多选。
        - 点击空白处或“取消”退出模式。
- **页面跳转 (Transitions)**:
    - **Tap 书籍**: -> **阅读页 (Reader Screen)**。
        - **动效**: 封面展开动画 (Shared Element Transition) 或 从右向左滑入 (Push)。
    - **Tap 搜索图标**: -> **搜索页 (Search Screen)**。
        - **动效**: 模态向上弹出 (Modal Slide Up) 或 导航推入 (Push)。
    - **Tap 导入(Plus)图标**: -> **文件选择器 (System File Picker)**。
        - **动效**: 系统默认弹窗。

---

### 2.3 阅读页 (Reader Screen)

核心功能页面，全屏阅读。

- **界面元素 (默认隐藏)**:
    - **顶部栏**: 返回按钮、书籍标题、书签图标、更多菜单(...)。
    - **底部栏**: 进度条滑块、上一章/下一章按钮、目录图标、设置(Aa)图标、夜间模式开关。
    - **正文区域**: 渲染书籍内容。
- **交互逻辑 (Interactions)**:
    - **翻页**:
        - **点击**: 屏幕右侧 -> 下一页；屏幕左侧 -> 上一页。
        - **滑动**: 水平滑动 -> 翻页动画 (仿真/覆盖/滑动)。
        - **音量键**: 物理按键翻页 (需设置开启)。
    - **呼出菜单**: 点击屏幕 **中央区域**。
        - 顶部/底部栏淡入/移入。
    - **文本选择**: 长按正文文字 -> 弹出系统/自定义选择菜单 (复制/高亮/笔记)。
    - **双指缩放**: (可选) 调节字号。
- **页面跳转 (Transitions)**:
    - **Tap 返回**: -> **书架页**。
        - **动效**: 封面收缩动画 (Shared Element Alert) 或 从左向右滑出 (Pop)。
    - **Tap 目录图标**: -> **目录抽屉 (TOC Drawer)**。
        - **动效**: 侧边栏从左侧滑出 (Drawer Slide)。
    - **Tap 设置图标**: -> **设置面板 (Reading Settings Panel)**。
        - **动效**: 底部面板向上滑出 (Bottom Sheet)。

---

### 2.4 目录抽屉 (Table of Contents Drawer)

在阅读页中呼出，用于章节跳转。

- **界面元素**:
    - 书籍封面/元数据 (顶部)。
    - 章节列表 (支持嵌套)。
    - 当前章节高亮标识。
- **交互逻辑**:
    - **滚动**: 上下滑动查看章节。
    - **Tap 章节**: -> 跳转至阅读页对应位置，并**自动关闭抽屉**。
- **页面跳转**:
    - **Tap 遮罩层/向左滑动**: -> 关闭抽屉，回到 **阅读页**。

---

### 2.5 搜索页 (Search Screen)

- **界面元素**:
    - 搜索输入框 (自动聚焦)。
    - 历史搜索记录 / 热门推荐。
    - 搜索结果列表 (实时/回车触发)。
- **交互逻辑**:
    - 输入文字 -> 实时过滤本地书籍。
- **页面跳转**:
    - **Tap 结果书籍**: -> **阅读页**。
    - **Tap 取消/返回**: -> 回到 **书架页**。

---

### 2.6 设置页 (Settings Screen)

全局应用设置。

- **界面元素**:
    - 分组列表 (通用、阅读、存储、关于)。
- **交互逻辑**:
    - 切换开关 (Switch)。
    - 点击列表项进入子菜单。
- **页面跳转**:
    - **Tap 底部标签栏 (书架)**: -> **书架页**。
        - **动效**: 无 (Tab 切换)。

---

## 3. 手势汇总 (Gesture Summary)

| 手势                  | 页面            | 触发交互               |
| :-------------------- | :-------------- | :--------------------- |
| **Tap (单击)**        | 阅读页 (中央)   | 切换菜单栏显示/隐藏    |
|                       | 阅读页 (左右侧) | 翻页                   |
|                       | 书架页 (书籍)   | 打开书籍               |
| **Swipe (滑动)**      | 阅读页 (水平)   | 翻页                   |
|                       | 阅读页 (左边缘) | (iOS) 全局返回         |
|                       | 书架页 (垂直)   | 浏览列表               |
|                       | 书架页 (下拉)   | 刷新/扫描              |
| **Long Press (长按)** | 书架页 (书籍)   | 进入编辑(批量管理)模式 |
|                       | 阅读页 (文字)   | 选词 (复制/高亮/笔记)  |
| **Drag (拖拽)**       | 阅读页 (底部栏) | 快速调节阅读进度       |
